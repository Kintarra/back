CREATE TABLE public.directory_entry (
        id bigint NOT NULL,
        created_date timestamp without time zone default current_timestamp(0)::timestamp without time zone,
        modified_date timestamp without time zone,
        modified_by character varying(255),
        directory character varying(32) NOT NULL,
        name character varying(511) NOT NULL,
        type character varying(255) NOT NULL,
        parent_id bigint,
        negative_consequence_code character varying(4096),
        description character varying(4096),
        CONSTRAINT directory_entry_directory_check CHECK (((directory)::text = ANY (ARRAY[('HARDWARE'::character varying)::text, ('FIRMWARE'::character varying)::text, ('SYSTEM_SOFTWARE'::character varying)::text, ('APPLICATION_SOFTWARE'::character varying)::text, ('VENDOR'::character varying)::text, ('ORG_MEASURE'::character varying)::text, ('COMPATIBILITY_GROUP'::character varying)::text]))),
        CONSTRAINT directory_entry_fields_check CHECK (((((directory)::text = ANY (ARRAY [('FIRMWARE'::character varying)::text, ('SYSTEM_SOFTWARE'::character varying)::text, ('APPLICATION_SOFTWARE'::character varying)::text])) AND ((((description)::jsonb -> 'version'::text) IS NOT NULL) OR (((type)::text = 'SOFTWARE_SECURITY_TOOL'::text) AND ((((description)::jsonb -> 'purposes'::text) IS NOT NULL) AND (((description)::jsonb -> 'functions'::text) IS NOT NULL))))) OR (((directory)::text = ('HARDWARE'::character varying)::text) AND ((((type)::text = 'REMOVABLE_DATA_STORAGE'::text) AND ((((description)::jsonb -> 'volume'::text) IS NOT NULL) AND (((description)::jsonb -> 'unit'::text) = '"Тб"'::jsonb))) OR (((type)::text = 'NETWORK_CARD'::text) AND ((((description)::jsonb -> 'ethernetPortCount'::text) IS NOT NULL) AND (((description)::jsonb -> 'unit'::text) = '"шт."'::jsonb))) OR (((type)::text = 'CPU'::text) AND ((((description)::jsonb -> 'frequency'::text) IS NOT NULL) AND (((description)::jsonb -> 'unit'::text) = '"ГГц"'::jsonb))) OR (((type)::text = 'RAM'::text) AND ((((description)::jsonb -> 'volume'::text) IS NOT NULL) AND (((description)::jsonb -> 'unit'::text) = '"Гб"'::jsonb))) OR (((type)::text = 'STORAGE_DEVICE'::text) AND ((((description)::jsonb -> 'volume'::text) IS NOT NULL) AND (((description)::jsonb -> 'unit'::text) = '"Тб"'::jsonb))) OR (((type)::text = 'MOTHERBOARD'::text) AND ((((description)::jsonb -> 'ethernetPortCount'::text) IS NOT NULL) AND (((description)::jsonb -> 'unit'::text) = '"шт."'::jsonb))) OR ((type)::text = 'PERIPHERAL_EQUIPMENT'::text) OR ((type)::text = 'BUILT_IN_CARD_READER'::text) ))  OR ((directory)::text = ANY (ARRAY [('VENDOR'::character varying)::text, ('COMPATIBILITY_GROUP'::character varying)::text, ('ORG_MEASURE'::character varying)::text])))),
        CONSTRAINT directory_entry_parent_check CHECK (((((directory)::text = ANY (ARRAY[('FIRMWARE'::character varying)::text, ('SYSTEM_SOFTWARE'::character varying)::text, ('APPLICATION_SOFTWARE'::character varying)::text, ('HARDWARE'::character varying)::text])) AND (parent_id IS NOT NULL)) OR ((directory)::text = ANY (ARRAY[('VENDOR'::character varying)::text, ('COMPATIBILITY_GROUP'::character varying)::text, ('ORG_MEASURE'::character varying)::text])))),
        CONSTRAINT directory_entry_type_check CHECK (((((directory)::text = 'HARDWARE'::text) AND ((type)::text = ANY (ARRAY[('REMOVABLE_DATA_STORAGE'::character varying)::text, ('NETWORK_CARD'::character varying)::text, ('CPU'::character varying)::text, ('PERIPHERAL_EQUIPMENT'::character varying)::text, ('RAM'::character varying)::text, ('STORAGE_DEVICE'::character varying)::text, ('MOTHERBOARD'::character varying)::text, ('BUILT_IN_CARD_READER'::character varying)::text]))) OR (((directory)::text = 'FIRMWARE'::text) AND ((type)::text = ANY (ARRAY[('DEVICE_FIRMWARE'::character varying)::text, ('BIOS'::character varying)::text, ('UEFI'::character varying)::text]))) OR (((directory)::text = 'SYSTEM_SOFTWARE'::text) AND ((type)::text = ANY (ARRAY[('BOOTLOADER'::character varying)::text, ('DRIVER'::character varying)::text, ('OS'::character varying)::text]))) OR (((directory)::text = 'APPLICATION_SOFTWARE'::text) AND ((type)::text = ANY (ARRAY[('GENERAL_PURPOSE_SOFTWARE'::character varying)::text, ('VIRTUALIZATION_AND_CONTAINERIZATION_SOFTWARE'::character varying)::text, ('SOFTWARE_SECURITY_TOOL'::character varying)::text]))) OR (((directory)::text = 'VENDOR'::text) AND ((type)::text = 'VENDOR'::text)) OR (((directory)::text = 'ORG_MEASURE'::text) AND ((type)::text = 'ORG_MEASURE'::text)) OR (((directory)::text = 'COMPATIBILITY_GROUP'::text) AND ((type)::text = 'COMPATIBILITY_GROUP'::text))))
        );
